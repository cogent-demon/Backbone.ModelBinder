<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta content="text/html;charset=UTF-8" http-equiv="Content-Type"/>
  <title>Model Binder A</title>

  <!-- include source files here... -->
  <script type="text/javascript" src="../../public/javascripts/underscore.js"></script>
  <script type="text/javascript" src="../../public/javascripts/jquery.js"></script>
  <script type="text/javascript" src="../../public/javascripts/backbone.js"></script>
  <script type="text/javascript" src="../../Backbone.ModelBinder.js"></script>

  <script>
    $().ready(function () {


      welcomeModel = new Backbone.Model();

      welcomeModel.bind('change', function () {
        $('#welcomeModel').html(JSON.stringify(welcomeModel.toJSON()));
      });


      ViewClassA = Backbone.View.extend({

        render:function () {
          var html = '\
          \
          <div id="welcome"> Welcome, <span name="welcomeFirstName"></span> <span name="welcomeLastName"></span>\
          \
            Edit your information:\
                <input type="text" name="welcomeFirstName"/>\
                <input type="text" name="welcomeLastName"/></div>\
          \
          ';

          $(this.$el).html(html);


          welcomeBinder = new Backbone.ModelBinder();
          welcomeBinder.bind(welcomeModel, this.$('#welcome'));

          return this;
        }
      });

      viewA = new ViewClassA();
      $('#welcomeView').append(viewA.render().$el);
    });

  </script>

</head>
<body>
Welcome:
<div id="welcomeModel"></div>
<br><br>
<div id="welcomeView"></div>

</body>
</html>
